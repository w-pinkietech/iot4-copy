# クイックスタート

## 🚀 5分でわかるシステム操作

このガイドでは、IoT導入支援キット Ver.4.1の基本的な使い方を実際の画面を見ながら学びます。

## 📋 前提条件

- システムが既にインストール・設定済みであること
- Raspberry Piが起動していること
- 同一ネットワーク内のPCからアクセスできること

> 💡 **インストールがまだの場合**: [インストールガイド](../operations/deployment-guide.md)を参照

## 🌐 Step 1: システムへのアクセス

### 1.1 Webブラウザでアクセス
```
http://localhost:1880         # 同じPC上での操作
http://192.168.1.100:1880     # 他のPCからのアクセス（IPアドレスは環境に応じて変更）
```

### 1.2 画面構成の確認
アクセスすると **Node-RED エディター** が表示されます：

```
┌─────────────────────────────────────────┐
│ Node-RED                        [メニュー] │
├─────────────────────────────────────────┤
│ タブ: [PI・JIG・I2C・GPIO] [ダッシュボード] [設定] │
├─────────────────────────────────────────┤
│                                         │
│        ノード配置エリア                     │
│        （フロー図が表示される）               │
│                                         │
├─────────────────────────────────────────┤
│ デバッグ出力・ログ表示エリア                   │
└─────────────────────────────────────────┘
```

## 📊 Step 2: ダッシュボードでの監視

### 2.1 ダッシュボードへアクセス
```
http://localhost:1880/ui
```

### 2.2 ダッシュボード画面の見方
```
┌─────────────────────────────────────────┐
│ IoTシステム ダッシュボード          [⚙️設定] │
├─────────────────────────────────────────┤
│ 📊 温度センサー     📏 距離センサー          │
│ ┌─────────────┐    ┌─────────────┐      │
│ │   25.3°C    │    │    150mm    │      │
│ │  ━━━━━━━━    │    │  ━━━━━━━━    │      │
│ └─────────────┘    └─────────────┘      │
│                                         │
│ 💡 照度センサー     ⚡ 接点状態             │
│ ┌─────────────┐    ┌─────────────┐      │
│ │   850 lux   │    │     ON      │      │
│ │  ━━━━━━━━    │    │     🟢      │      │
│ └─────────────┘    └─────────────┘      │
├─────────────────────────────────────────┤
│ 📈 グラフ表示エリア                         │
│ (時系列グラフ・トレンド表示)                  │
└─────────────────────────────────────────┘
```

### 2.3 基本操作
- **現在値確認**: 各センサーの現在値がリアルタイムで更新
- **履歴確認**: グラフエリアで過去のデータトレンド確認
- **アラート確認**: 異常値の場合は赤色で表示・アラート音

## ⚙️ Step 3: 基本設定

### 3.1 センサー設定へのアクセス
1. Node-REDエディターで **「設定」** タブをクリック
2. **「センサー設定」** ノードをダブルクリック

### 3.2 閾値設定の変更
```
┌─────────────────────────────────────────┐
│ センサー設定                              │
├─────────────────────────────────────────┤
│ センサー: [温度センサー ▼]                │
│                                         │
│ 上限閾値: [30.0] °C                     │
│ 下限閾値: [15.0] °C                     │
│                                         │
│ ヒステリシス:                            │
│   High: [29.5] °C                      │
│   Low:  [15.5] °C                      │
│                                         │
│ [ 保存 ]  [ キャンセル ]                  │
└─────────────────────────────────────────┘
```

### 3.3 設定内容の説明
- **上限・下限閾値**: アラートを発生させる基準値
- **ヒステリシス**: チャタリング防止のための余裕値
- **保存**: 設定を適用してシステムに反映

## 🚨 Step 4: アラート動作確認

### 4.1 テスト用アラート発生
1. 温度センサーの上限閾値を現在値より低く設定
2. 数秒待つとアラートが発生
3. ダッシュボードで赤色表示・アラート音を確認

### 4.2 アラート確認方法
```
ダッシュボード表示:
┌─────────────────┐
│ 📊 温度センサー    │
│ ┌─────────────┐  │
│ │  🔴 32.1°C  │  │  ← 赤色で警告表示
│ │  ⚠️ 異常高温   │  │
│ └─────────────┘  │
└─────────────────┘

アラート履歴:
┌─────────────────────────────────────────┐
│ アラート履歴                              │
├─────────────────────────────────────────┤
│ 2025-06-19 14:30:15 | 温度センサー | 上限超過 │
│ 2025-06-19 14:25:10 | 距離センサー | 通信エラー │
│ 2025-06-19 14:20:05 | 照度センサー | 下限超過 │
└─────────────────────────────────────────┘
```

### 4.3 アラート解除
1. 閾値を元の値に戻すか、センサー値が正常範囲に戻ると自動解除
2. ダッシュボードの表示が正常色（緑・青）に戻る

## 📈 Step 5: データ分析の基本

### 5.1 履歴データの確認
1. ダッシュボードのグラフエリアをクリック
2. 期間を選択（1時間、1日、1週間、1ヶ月）
3. センサーを選択してトレンド確認

### 5.2 グラフの見方
```
温度トレンドグラフ例:
  35°C ┤                    ●
       │                   ╱ ╲
  30°C ┤        ●─────●   ╱   ╲
       │       ╱         ╱     ╲
  25°C ┤●─────╱         ╱       ●─────●
       │                         
  20°C ┤
       └────────────────────────────────→
       9:00   12:00   15:00   18:00   21:00

📊 分析ポイント:
- 15:00頃に最高温度（アラート発生）
- 夜間は安定した温度推移
- 12:00-18:00の間に変動が大きい
```

### 5.3 データエクスポート
1. グラフ右上の **「⬇️ダウンロード」** ボタンをクリック
2. CSV形式でデータをダウンロード
3. Excel等で詳細分析が可能

## 🔧 Step 6: 出力制御の基本

### 6.1 手動制御
```
出力制御パネル:
┌─────────────────────────────────────────┐
│ 🔌 出力制御                              │
├─────────────────────────────────────────┤
│ LED1:  [ 🟢 ON ]  [ ⚫ OFF ]            │
│ LED2:  [ ⚫ OFF]  [ 🟢 ON  ]            │
│ リレー1:[ 🟢 ON ]  [ ⚫ OFF ]            │
│ ブザー: [ ⚫ OFF]  [ 🟢 ON  ]            │
└─────────────────────────────────────────┘
```

### 6.2 自動制御設定
1. **「設定」** タブで **「自動制御」** ノードを選択
2. 条件と動作を設定：
```
条件設定:
┌─────────────────────────────────────────┐
│ IF: [温度センサー ▼] [>] [30] °C         │
│ THEN: [LED1 ▼] を [ON ▼] にする          │
│                                         │
│ IF: [温度センサー ▼] [<] [25] °C         │  
│ THEN: [LED1 ▼] を [OFF ▼] にする         │
└─────────────────────────────────────────┘
```

## 🔍 Step 7: トラブルシューティング基本

### 7.1 よくある問題と対処法

#### センサー値が表示されない
```
確認手順:
1. 物理接続の確認
   → ケーブルの接続、電源供給状況

2. デバイス認識の確認  
   → Node-REDエディターでデバッグ出力を確認

3. 設定の確認
   → センサー設定が正しく保存されているか
```

#### ダッシュボードにアクセスできない
```
確認手順:
1. システム状態の確認
   → Raspberry Piが起動しているか

2. ネットワークの確認
   → 同じネットワークに接続されているか
   → IPアドレスが正しいか

3. ポート番号の確認
   → :1880/ui が正しく入力されているか
```

### 7.2 ログの確認方法
```bash
# システムログの確認
sudo journalctl -u node-red -f

# エラーメッセージの例
Jun 19 14:30:15 raspberrypi Node-RED[1234]: Error: Sensor timeout
Jun 19 14:30:20 raspberrypi Node-RED[1234]: Reconnecting to sensor...
Jun 19 14:30:25 raspberrypi Node-RED[1234]: Sensor connected successfully
```

## 📚 次のステップ

### 基本操作をマスターしたら

1. **詳細設定の学習**
   - [技術仕様](../specifications/technical-specs.md): より詳細な機能理解
   - [運用ガイド](../operations/monitoring-guide.md): 日常運用のベストプラクティス

2. **システム拡張**
   - [センサー追加方法](../operations/maintenance-guide.md): 新しいセンサーの追加
   - [API連携](../api/rest-api.md): 外部システムとの連携

3. **高度な活用**
   - [Node-RED実装](../implementation/node-red-system.md): カスタマイズ方法
   - [データ分析](../implementation/data-architecture.md): より深いデータ活用

## 💡 運用のコツ

### 日常運用での推奨事項
- **定期確認**: 1日1回はダッシュボードで全センサー状態を確認
- **閾値調整**: 季節や環境変化に応じて閾値を見直し
- **データ活用**: 週次・月次でのトレンド分析を習慣化
- **バックアップ**: 重要な設定変更前には設定をバックアップ

### トラブル予防
- **定期再起動**: 月1回程度のシステム再起動で安定性向上
- **ログ監視**: 異常なログが頻発していないかを定期確認  
- **物理点検**: 月1回程度の配線・センサー物理状態確認
- **アップデート**: 重要なセキュリティアップデートの適用

---

**更新日**: 2025年6月19日  
**対象読者**: 初心者・新規利用者  
**所要時間**: 約30分  
**関連資料**: [システム概要](system-summary.md) | [運用ガイド](../operations/)